<div class="wrapper container">
  <h1 class="text-center cursive-font">Covid-19 India Statistics</h1>  
  <br>
  
   <div class="row dark">
     <div class="col-sm-12">
       <table class="table table-striped table-dark">
          <thead>
            <tr>
              <th scope="col" class="circle-border-left no-border">Country</th>
              <th scope="col" class="text-danger no-border">Active</th>
              <th scope="col" class="text-success no-border">Recovered</th>
              <th scope="col" class="text-secondary no-border">Deceased</th>
              <th scope="col" class="text-primary no-border circle-border-right">Confirmed</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="circle-border-left no-border">India</td>
              <td class="text-danger no-border">{{ totalData?.active }} 
                <small *ngIf="totalData?.aChanges">(<span *ngIf="totalData?.aChanges > 0">+</span>{{ totalData?.aChanges }})</small>
              </td>
              <td class="text-success no-border">{{ totalData?.recovered }}  <small *ngIf="totalData?.rChanges">(+{{ totalData?.rChanges }})</small></td>
              <td class="text-secondary no-border">{{ totalData?.deaths }}  <small *ngIf="totalData?.dChanges">(+{{ totalData?.dChanges }})</small></td>
              <td class="circle-border-right no-border text-primary">{{ totalData?.confirmed }}  <small *ngIf="totalData?.cChanges">(+{{ totalData?.cChanges }})</small></td>
            </tr>
          </tbody>
        </table>
     </div>
   </div>

    <br><br>


  <div class="row" >
    <div class="col-sm-8">
      <google-chart #chart
         title="{{ state[0] }} vs {{ state[1] }}"
         [type]="chartType"
         [data]="data"
         [columnNames]="columnNames"
         [options]="options"
         width="700">
      </google-chart>
    </div>
    <div class="col-sm-4">
      <h4>State Comparison</h4>
      <div class="form-group">
        <label></label>
        <select class="form-control form-control-sm" #state1 (change)="setState(state1.value, 1)" >
          <option *ngFor="let state of stateData; let i=index" value="{{ i }}">{{ state.state }}</option>
        </select>
      </div>
       <div class="form-group">
        <label></label>
        <select class="form-control form-control-sm" #state2 (change)="setState(state2.value, 2)" >
          <option *ngFor="let state of stateData; let i=index" value="{{ i }}">{{ state.state }}</option>
        </select>
      </div>
    </div>
  </div>

<br><br>

  <div class="row dark">
    <div class="col-sm-12"><br>
      <h3 class="text-center cursive-font text-light">Statewise Data</h3>
       <span class="float-right text-light"><small>Sorted by : {{ sortOrder }}</small></span><br>
      <table class="table table-striped table-dark">
        <thead>
          <tr>
            <th scope="col" class="circle-border-left no-border">State/UT</th>
            <th scope="col" class="text-danger no-border" (click)="sortData('active')">Active</th>
            <th scope="col" class="text-success no-border" (click)="sortData('recovered')">Recovered</th>
            <th scope="col" class="text-secondary no-border" (click)="sortData('deceased')">Deceased</th>
            <th scope="col" class="text-primary no-border circle-border-right" (click)="sortData('confirmed')">Confirmed</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let state of stateData">
            <td class="circle-border-left no-border">{{ state.state }}</td>
            <td class="text-danger no-border">{{ state.active }} <small *ngIf="state.aChanges">(<span *ngIf="state.aChanges > 0">+</span>{{ state.aChanges }})</small></td>
            <td class="text-success no-border">{{ state.recovered }}  <small *ngIf="state.rChanges">(+{{ state.rChanges }})</small></td>
            <td class="text-secondary no-border">{{ state.deaths }}  <small *ngIf="state.dChanges">(+{{ state.dChanges }})</small></td>
            <td class="circle-border-right no-border text-primary">{{ state.confirmed }}  <small *ngIf="state.cChanges">(+{{ state.cChanges }})</small></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <br><br>
</div>
